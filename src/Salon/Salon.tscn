[gd_scene load_steps=43 format=3 uid="uid://cri726vtnvk0q"]

[ext_resource type="Script" path="res://src/Salon/Salon.gd" id="1_rvt7j"]
[ext_resource type="PackedScene" uid="uid://bh4yv6ik2l2xy" path="res://src/Monsters/BarnabusMonster.tscn" id="1_ucilr"]
[ext_resource type="PackedScene" uid="uid://2jica8njwnl1" path="res://src/Cursor/Cursor.tscn" id="2_ilg5p"]
[ext_resource type="PackedScene" uid="uid://y8ux72ol0oh2" path="res://src/Monsters/slime_monster.tscn" id="2_km51p"]
[ext_resource type="PackedScene" uid="uid://bsxck2vktrnmb" path="res://src/dialogue/dialogue_scene.tscn" id="5_2kn52"]
[ext_resource type="Script" path="res://src/Salon/LightsOut.gd" id="5_vfuqq"]
[ext_resource type="PackedScene" uid="uid://bsn85l1ux8qb5" path="res://src/Timer/timer_scene.tscn" id="6_187t4"]
[ext_resource type="Texture2D" uid="uid://0bjwdianhxfl" path="res://assets/bg_blur.png" id="7_memi8"]
[ext_resource type="Script" path="res://src/Salon/AutoReference.gd" id="8_y1li6"]
[ext_resource type="AudioStream" uid="uid://mbw2wl7j27er" path="res://assets/Audio/SFX/switch.wav" id="9_h7cmu"]
[ext_resource type="Texture2D" uid="uid://dg0br03m3bloq" path="res://assets/Salon/monster_UI_stul.png" id="9_hfpap"]
[ext_resource type="Texture2D" uid="uid://vh87jmkwl5ad" path="res://assets/Salon/monster_UI_suplik_left_open.png" id="9_itt2x"]
[ext_resource type="Texture2D" uid="uid://dj7qtrujt6j7r" path="res://assets/Salon/monster_UI_suplik_right_open.png" id="10_e1134"]
[ext_resource type="Texture2D" uid="uid://lekod4mh6vy0" path="res://assets/Tools/Tools_lipstick.png" id="13_p6on3"]
[ext_resource type="Texture2D" uid="uid://d4ae8ame43pwr" path="res://assets/Tools/Tools_shadows.png" id="14_1xnuh"]
[ext_resource type="Texture2D" uid="uid://bro1w55vqx610" path="res://assets/KeyHints/gamepad/xbox_dpad_up.png" id="14_fetvg"]
[ext_resource type="Texture2D" uid="uid://d3s4846q11g8" path="res://assets/Tools/Tools_pencil.png" id="15_5ubh4"]
[ext_resource type="Texture2D" uid="uid://coafsg4pmornl" path="res://assets/KeyHints/keyboard/keyboard_w.png" id="15_wc8ea"]
[ext_resource type="Texture2D" uid="uid://bpc43duc3xg4b" path="res://assets/Tools/Tools_cloth.png" id="16_mshxw"]
[ext_resource type="Texture2D" uid="uid://bde17r2j6hkol" path="res://assets/KeyHints/gamepad/xbox_dpad_down.png" id="16_qrw4d"]
[ext_resource type="Texture2D" uid="uid://dxqg81k70e7qy" path="res://assets/Tools/Tools_trimmer.png" id="17_q215w"]
[ext_resource type="Texture2D" uid="uid://kthlmte6dqh2" path="res://assets/KeyHints/keyboard/keyboard_s.png" id="17_x2v81"]
[ext_resource type="Texture2D" uid="uid://brfjw7fa8aix8" path="res://assets/KeyHints/gamepad/xbox_dpad_left.png" id="18_pemxu"]
[ext_resource type="Texture2D" uid="uid://chwlvyi4bf0dv" path="res://assets/KeyHints/keyboard/keyboard_a.png" id="19_lbtjf"]
[ext_resource type="Script" path="res://src/Keyhint/KeyHint.gd" id="19_wm8ir"]
[ext_resource type="Texture2D" uid="uid://yn5jflxchuq6" path="res://assets/KeyHints/gamepad/xbox_dpad_right.png" id="20_qqbr3"]
[ext_resource type="Texture2D" uid="uid://q61s3fou0g11" path="res://assets/KeyHints/keyboard/keyboard_d.png" id="21_1sj48"]
[ext_resource type="Texture2D" uid="uid://brqkydi8lpm3d" path="res://assets/KeyHints/gamepad/xbox_lb.png" id="22_b6ty8"]
[ext_resource type="Texture2D" uid="uid://4p8afv8wmr2n" path="res://assets/KeyHints/keyboard/keyboard_q.png" id="23_jisso"]
[ext_resource type="Texture2D" uid="uid://dwd4vgwvwn4dc" path="res://assets/KeyHints/gamepad/xbox_rb.png" id="24_5ftec"]
[ext_resource type="Texture2D" uid="uid://bhcptu2hx852t" path="res://assets/KeyHints/keyboard/keyboard_e.png" id="25_nyxyk"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m2hby"]
size = Vector2(300, 812)

[sub_resource type="Animation" id="Animation_iaupg"]
resource_name = "LightsOut"
length = 1.26
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("LightsOut:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.4, 0.5, 0.6, 0.9, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [false, true, false, true, false, true, false, true]
}
tracks/1/type = "audio"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("LightsOut/AudioStreamPlayer")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("9_h7cmu")
}, {
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("9_h7cmu")
}, {
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("9_h7cmu")
}, {
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("9_h7cmu")
}],
"times": PackedFloat32Array(0.1, 0.4, 0.6, 1)
}
tracks/1/use_blend = true

[sub_resource type="Animation" id="Animation_v6m74"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("LightsOut:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_a4k05"]
_data = {
"LightsOut": SubResource("Animation_iaupg"),
"RESET": SubResource("Animation_v6m74")
}

[sub_resource type="Environment" id="Environment_6lltp"]
background_mode = 3
glow_enabled = true
glow_levels/3 = 3.11
glow_levels/4 = 1.84
glow_levels/5 = 1.45
glow_intensity = 2.34
glow_strength = 0.8
glow_hdr_threshold = 0.7

[sub_resource type="Animation" id="Animation_l74du"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Label:text")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [""]
}

[sub_resource type="Animation" id="Animation_pgilc"]
resource_name = "countdown"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Label:text")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 1, 2, 3),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": ["3", "3", "2", "1", ""]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Label:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2, 2.8, 3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [false, true, true, false]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("%CanvasLayer/..")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(3),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"_trigger_state_change"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3pkgn"]
_data = {
"RESET": SubResource("Animation_l74du"),
"countdown": SubResource("Animation_pgilc")
}

[sub_resource type="Animation" id="Animation_4qrm4"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_dvbe1"]
resource_name = "curtain"
length = 4.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = false
tracks/0/path = NodePath(".:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(3.24901),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1, 3.9, 4),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("%CanvasLayer/..")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(3.9),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"_trigger_state_change"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_bg65y"]
_data = {
"RESET": SubResource("Animation_4qrm4"),
"curtain": SubResource("Animation_dvbe1")
}

[node name="Salon" type="Node2D" node_paths=PackedStringArray("MonsterHolder")]
script = ExtResource("1_rvt7j")
MonsterHolder = NodePath("MonsterHolder")
Scenes = Array[PackedScene]([ExtResource("1_ucilr"), ExtResource("2_km51p"), ExtResource("1_ucilr"), ExtResource("2_km51p"), ExtResource("1_ucilr"), ExtResource("2_km51p"), ExtResource("2_km51p"), ExtResource("1_ucilr")])
CursorScene = ExtResource("2_ilg5p")
DialogueScene = ExtResource("5_2kn52")
TimerScene = ExtResource("6_187t4")

[node name="BackgroundColor" type="TextureRect" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 1920.0
offset_bottom = 1080.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("7_memi8")
expand_mode = 1

[node name="MonsterUiSuplikLeftOpen" type="Sprite2D" parent="BackgroundColor"]
position = Vector2(360, 524)
scale = Vector2(0.3, 0.3)
texture = ExtResource("9_itt2x")

[node name="PlaceableAreaLeft" type="Area2D" parent="BackgroundColor"]
position = Vector2(353, 574)
collision_layer = 32
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="BackgroundColor/PlaceableAreaLeft"]
shape = SubResource("RectangleShape2D_m2hby")

[node name="MonsterUiSuplikRightOpen" type="Sprite2D" parent="BackgroundColor"]
position = Vector2(1589, 524)
scale = Vector2(0.3, 0.3)
texture = ExtResource("10_e1134")

[node name="PlaceableAreaRight" type="Area2D" parent="BackgroundColor"]
position = Vector2(1598, 571)
collision_layer = 32
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="BackgroundColor/PlaceableAreaRight"]
shape = SubResource("RectangleShape2D_m2hby")

[node name="MonsterHolder" type="Node2D" parent="."]

[node name="ToolTable" type="Node2D" parent="."]

[node name="MonsterUiStul" type="Sprite2D" parent="ToolTable"]
position = Vector2(950, 1041)
scale = Vector2(0.37, 0.37)
texture = ExtResource("9_hfpap")

[node name="Shadow" type="Node2D" parent="ToolTable"]
position = Vector2(299, 1017)
script = ExtResource("8_y1li6")

[node name="Polygon2D" type="Polygon2D" parent="ToolTable/Shadow"]
polygon = PackedVector2Array(89, 41, 0.606567, 18.5651, -108, -9, -47, -27, -23, -23, 110, 0, 127, 7, 129, 15, 122, 26)

[node name="Sprite2D" type="Sprite2D" parent="ToolTable/Shadow"]
scale = Vector2(0.3, 0.3)
texture = ExtResource("14_1xnuh")

[node name="Line" type="Node2D" parent="ToolTable"]
position = Vector2(109, 1029)
script = ExtResource("8_y1li6")

[node name="Polygon2D" type="Polygon2D" parent="ToolTable/Line"]
polygon = PackedVector2Array(-69, 27, -98, 16, -81, 2, -59, -9, 0, -12, 69, -23, 78, 6)

[node name="Sprite2D" type="Sprite2D" parent="ToolTable/Line"]
scale = Vector2(0.3, 0.3)
texture = ExtResource("15_5ubh4")

[node name="Lipstick" type="Node2D" parent="ToolTable"]
position = Vector2(191, 1006)
script = ExtResource("8_y1li6")

[node name="Polygon2D" type="Polygon2D" parent="ToolTable/Lipstick"]
polygon = PackedVector2Array(-35, 69, -34, 27, -17, 16, -15, -16, -14, -67, 0, -82, 18, -88, 16, 3, 35, 25, 34, 66)

[node name="Sprite2D" type="Sprite2D" parent="ToolTable/Lipstick"]
scale = Vector2(0.2, 0.2)
texture = ExtResource("13_p6on3")

[node name="Eraser" type="Node2D" parent="ToolTable"]
position = Vector2(1597, 1009)
script = ExtResource("8_y1li6")

[node name="Sprite2D" type="Sprite2D" parent="ToolTable/Eraser"]
scale = Vector2(0.4, 0.4)
texture = ExtResource("16_mshxw")

[node name="HintRight" type="Node2D" parent="ToolTable/Eraser" node_paths=PackedStringArray("gamepadHint", "keyboardHint")]
script = ExtResource("19_wm8ir")
gamepadHint = NodePath("Gamepad2")
keyboardHint = NodePath("Keyboard2")

[node name="Gamepad2" type="TextureRect" parent="ToolTable/Eraser/HintRight"]
offset_left = -90.0
offset_top = -107.5
offset_right = -26.0
offset_bottom = -43.5
texture = ExtResource("20_qqbr3")
metadata/_edit_use_anchors_ = true

[node name="Keyboard2" type="TextureRect" parent="ToolTable/Eraser/HintRight"]
visible = false
offset_left = -90.0
offset_top = -107.5
offset_right = -26.0
offset_bottom = -43.5
texture = ExtResource("21_1sj48")
metadata/_edit_use_anchors_ = true

[node name="Cutter" type="Node2D" parent="ToolTable"]
position = Vector2(1138, 1017)
script = ExtResource("8_y1li6")

[node name="Sprite2D" type="Sprite2D" parent="ToolTable/Cutter"]
scale = Vector2(0.2, 0.2)
texture = ExtResource("17_q215w")

[node name="HintDown" type="Node2D" parent="ToolTable/Cutter" node_paths=PackedStringArray("gamepadHint", "keyboardHint")]
script = ExtResource("19_wm8ir")
gamepadHint = NodePath("Gamepad2")
keyboardHint = NodePath("Keyboard2")

[node name="Gamepad2" type="TextureRect" parent="ToolTable/Cutter/HintDown"]
offset_left = -182.0
offset_top = -27.0
offset_right = -118.0
offset_bottom = 37.0
texture = ExtResource("16_qrw4d")
metadata/_edit_use_anchors_ = true

[node name="Keyboard2" type="TextureRect" parent="ToolTable/Cutter/HintDown"]
visible = false
offset_left = -182.0
offset_top = -27.0
offset_right = -118.0
offset_bottom = 37.0
texture = ExtResource("17_x2v81")
metadata/_edit_use_anchors_ = true

[node name="EmptyKeyHint" type="Node2D" parent="ToolTable"]
position = Vector2(702, 997)
script = ExtResource("8_y1li6")

[node name="KeyHintUp" type="Node2D" parent="ToolTable/EmptyKeyHint" node_paths=PackedStringArray("gamepadHint", "keyboardHint")]
script = ExtResource("19_wm8ir")
gamepadHint = NodePath("Gamepad2")
keyboardHint = NodePath("Keyboard2")

[node name="Gamepad2" type="TextureRect" parent="ToolTable/EmptyKeyHint/KeyHintUp"]
offset_right = 64.0
offset_bottom = 64.0
texture = ExtResource("14_fetvg")
metadata/_edit_use_anchors_ = true

[node name="Keyboard2" type="TextureRect" parent="ToolTable/EmptyKeyHint/KeyHintUp"]
visible = false
offset_right = 64.0
offset_bottom = 64.0
texture = ExtResource("15_wc8ea")

[node name="KeyHintLeft" type="Node2D" parent="ToolTable" node_paths=PackedStringArray("gamepadHint", "keyboardHint")]
position = Vector2(702, 997)
script = ExtResource("19_wm8ir")
gamepadHint = NodePath("Gamepad2")
keyboardHint = NodePath("Keyboard2")

[node name="KeyHintSwapColorLeft" type="Node2D" parent="ToolTable/KeyHintLeft" node_paths=PackedStringArray("gamepadHint", "keyboardHint")]
script = ExtResource("19_wm8ir")
gamepadHint = NodePath("Gamepad2")
keyboardHint = NodePath("Keyboard2")

[node name="Gamepad2" type="TextureRect" parent="ToolTable/KeyHintLeft/KeyHintSwapColorLeft"]
visible = false
offset_left = -666.0
offset_top = -145.0
offset_right = -602.0
offset_bottom = -81.0
texture = ExtResource("22_b6ty8")
metadata/_edit_use_anchors_ = true

[node name="Keyboard2" type="TextureRect" parent="ToolTable/KeyHintLeft/KeyHintSwapColorLeft"]
offset_left = -652.0
offset_top = -115.0
offset_right = -588.0
offset_bottom = -51.0
scale = Vector2(0.7, 0.7)
texture = ExtResource("23_jisso")
metadata/_edit_use_anchors_ = true

[node name="KeyHintSwapColorRight" type="Node2D" parent="ToolTable/KeyHintLeft" node_paths=PackedStringArray("gamepadHint", "keyboardHint")]
script = ExtResource("19_wm8ir")
gamepadHint = NodePath("Gamepad2")
keyboardHint = NodePath("Keyboard2")

[node name="Gamepad2" type="TextureRect" parent="ToolTable/KeyHintLeft/KeyHintSwapColorRight"]
visible = false
offset_left = -573.0
offset_top = -145.0
offset_right = -509.0
offset_bottom = -81.0
texture = ExtResource("24_5ftec")
metadata/_edit_use_anchors_ = true

[node name="Keyboard2" type="TextureRect" parent="ToolTable/KeyHintLeft/KeyHintSwapColorRight"]
offset_left = -567.0
offset_top = -115.0
offset_right = -503.0
offset_bottom = -51.0
scale = Vector2(0.7, 0.7)
texture = ExtResource("25_nyxyk")
metadata/_edit_use_anchors_ = true

[node name="Gamepad2" type="TextureRect" parent="ToolTable/KeyHintLeft"]
visible = false
offset_left = -619.0
offset_top = -105.0
offset_right = -555.0
offset_bottom = -41.0
texture = ExtResource("18_pemxu")
metadata/_edit_use_anchors_ = true

[node name="Keyboard2" type="TextureRect" parent="ToolTable/KeyHintLeft"]
offset_left = -619.0
offset_top = -105.0
offset_right = -555.0
offset_bottom = -41.0
texture = ExtResource("19_lbtjf")
metadata/_edit_use_anchors_ = true

[node name="LightsOut" type="CanvasModulate" parent="."]
visible = false
script = ExtResource("5_vfuqq")

[node name="AnimationPlayer" type="AnimationPlayer" parent="LightsOut"]
root_node = NodePath("../..")
libraries = {
"": SubResource("AnimationLibrary_a4k05")
}

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="LightsOut"]

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="LightsOut"]
energy = 0.91
blend_mode = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_6lltp")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
unique_name_in_owner = true

[node name="CountDown" type="MarginContainer" parent="CanvasLayer"]
offset_left = 843.0
offset_top = 339.0
offset_right = 983.0
offset_bottom = 675.0

[node name="Label" type="Label" parent="CanvasLayer/CountDown"]
visible = false
layout_mode = 2
theme_override_font_sizes/font_size = 345

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer/CountDown"]
libraries = {
"": SubResource("AnimationLibrary_3pkgn")
}

[node name="Curtain" type="ColorRect" parent="CanvasLayer"]
modulate = Color(1, 1, 1, 0)
offset_right = 1920.0
offset_bottom = 1080.0
color = Color(0, 0, 0, 1)

[node name="Label" type="Label" parent="CanvasLayer/Curtain"]
layout_mode = 0
offset_top = 293.0
offset_right = 1920.0
offset_bottom = 443.0
theme_override_font_sizes/font_size = 91
text = "New Customer"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Label2" type="Label" parent="CanvasLayer/Curtain"]
layout_mode = 0
offset_top = 387.0
offset_right = 1920.0
offset_bottom = 621.0
theme_override_font_sizes/font_size = 141
text = "The First Date"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Label3" type="Label" parent="CanvasLayer/Curtain"]
layout_mode = 0
offset_top = 524.0
offset_right = 1920.0
offset_bottom = 758.0
theme_override_font_sizes/font_size = 81
text = "- 24 Hours Remain -"
horizontal_alignment = 1
vertical_alignment = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer/Curtain"]
libraries = {
"": SubResource("AnimationLibrary_bg65y")
}
