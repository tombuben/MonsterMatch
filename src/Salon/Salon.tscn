[gd_scene load_steps=38 format=3 uid="uid://cri726vtnvk0q"]

[ext_resource type="Script" path="res://src/Salon/Salon.gd" id="1_rvt7j"]
[ext_resource type="PackedScene" uid="uid://bh4yv6ik2l2xy" path="res://src/Monsters/BarnabusMonster.tscn" id="1_ucilr"]
[ext_resource type="PackedScene" uid="uid://2jica8njwnl1" path="res://src/Cursor/Cursor.tscn" id="2_ilg5p"]
[ext_resource type="PackedScene" uid="uid://y8ux72ol0oh2" path="res://src/Monsters/slime_monster.tscn" id="2_km51p"]
[ext_resource type="PackedScene" uid="uid://bsxck2vktrnmb" path="res://src/dialogue/dialogue_scene.tscn" id="5_2kn52"]
[ext_resource type="Script" path="res://src/Salon/LightsOut.gd" id="5_vfuqq"]
[ext_resource type="PackedScene" uid="uid://bsn85l1ux8qb5" path="res://src/Timer/timer_scene.tscn" id="6_187t4"]
[ext_resource type="Script" path="res://src/Salon/AutoReference.gd" id="8_y1li6"]
[ext_resource type="AudioStream" uid="uid://mbw2wl7j27er" path="res://assets/Audio/SFX/switch.wav" id="9_h7cmu"]
[ext_resource type="Texture2D" uid="uid://dg0br03m3bloq" path="res://assets/Salon/monster_UI_stul.png" id="9_hfpap"]
[ext_resource type="Texture2D" uid="uid://vh87jmkwl5ad" path="res://assets/Salon/monster_UI_suplik_left_open.png" id="9_itt2x"]
[ext_resource type="Texture2D" uid="uid://dj7qtrujt6j7r" path="res://assets/Salon/monster_UI_suplik_right_open.png" id="10_e1134"]
[ext_resource type="PackedScene" uid="uid://jgaculog2vpb" path="res://src/Keyhint/KeyHint.tscn" id="13_74gj5"]
[ext_resource type="Texture2D" uid="uid://bro1w55vqx610" path="res://assets/KeyHints/gamepad/xbox_dpad_up.png" id="14_fetvg"]
[ext_resource type="Texture2D" uid="uid://coafsg4pmornl" path="res://assets/KeyHints/keyboard/keyboard_w.png" id="15_wc8ea"]
[ext_resource type="Texture2D" uid="uid://bde17r2j6hkol" path="res://assets/KeyHints/gamepad/xbox_dpad_down.png" id="16_qrw4d"]
[ext_resource type="Texture2D" uid="uid://kthlmte6dqh2" path="res://assets/KeyHints/keyboard/keyboard_s.png" id="17_x2v81"]
[ext_resource type="Texture2D" uid="uid://brfjw7fa8aix8" path="res://assets/KeyHints/gamepad/xbox_dpad_left.png" id="18_pemxu"]
[ext_resource type="Texture2D" uid="uid://chwlvyi4bf0dv" path="res://assets/KeyHints/keyboard/keyboard_a.png" id="19_lbtjf"]
[ext_resource type="Texture2D" uid="uid://yn5jflxchuq6" path="res://assets/KeyHints/gamepad/xbox_dpad_right.png" id="20_qqbr3"]
[ext_resource type="Texture2D" uid="uid://q61s3fou0g11" path="res://assets/KeyHints/keyboard/keyboard_d.png" id="21_1sj48"]
[ext_resource type="Texture2D" uid="uid://brqkydi8lpm3d" path="res://assets/KeyHints/gamepad/xbox_lb.png" id="22_b6ty8"]
[ext_resource type="Texture2D" uid="uid://4p8afv8wmr2n" path="res://assets/KeyHints/keyboard/keyboard_q.png" id="23_jisso"]
[ext_resource type="Texture2D" uid="uid://dwd4vgwvwn4dc" path="res://assets/KeyHints/gamepad/xbox_rb.png" id="24_5ftec"]
[ext_resource type="Texture2D" uid="uid://bhcptu2hx852t" path="res://assets/KeyHints/keyboard/keyboard_e.png" id="25_nyxyk"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m2hby"]
size = Vector2(300, 812)

[sub_resource type="Animation" id="Animation_iaupg"]
resource_name = "LightsOut"
length = 1.26
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("LightsOut:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.4, 0.5, 0.6, 0.9, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [false, true, false, true, false, true, false, true]
}
tracks/1/type = "audio"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("LightsOut/AudioStreamPlayer")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("9_h7cmu")
}, {
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("9_h7cmu")
}, {
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("9_h7cmu")
}, {
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("9_h7cmu")
}],
"times": PackedFloat32Array(0.1, 0.4, 0.6, 1)
}
tracks/1/use_blend = true

[sub_resource type="Animation" id="Animation_v6m74"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("LightsOut:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_a4k05"]
_data = {
"LightsOut": SubResource("Animation_iaupg"),
"RESET": SubResource("Animation_v6m74")
}

[sub_resource type="Environment" id="Environment_6lltp"]
background_mode = 3
glow_enabled = true
glow_levels/3 = 3.11
glow_levels/4 = 1.84
glow_levels/5 = 1.45
glow_intensity = 2.34
glow_strength = 0.8
glow_hdr_threshold = 0.7

[sub_resource type="Animation" id="Animation_l74du"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Label:text")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [""]
}

[sub_resource type="Animation" id="Animation_pgilc"]
resource_name = "countdown"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Label:text")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 1, 2, 3),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": ["3", "3", "2", "1", ""]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Label:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2, 2.8, 3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [false, true, true, false]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("%CanvasLayer/..")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(3),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"_trigger_state_change"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3pkgn"]
_data = {
"RESET": SubResource("Animation_l74du"),
"countdown": SubResource("Animation_pgilc")
}

[sub_resource type="Animation" id="Animation_4qrm4"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_dvbe1"]
resource_name = "curtain"
length = 4.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = false
tracks/0/path = NodePath(".:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(3.24901),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1, 3.9, 4),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("%CanvasLayer/..")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(3.9),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"_trigger_state_change"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_bg65y"]
_data = {
"RESET": SubResource("Animation_4qrm4"),
"curtain": SubResource("Animation_dvbe1")
}

[node name="Salon" type="Node2D" node_paths=PackedStringArray("MonsterHolder")]
script = ExtResource("1_rvt7j")
MonsterHolder = NodePath("MonsterHolder")
Scenes = Array[PackedScene]([ExtResource("1_ucilr"), ExtResource("2_km51p"), ExtResource("1_ucilr"), ExtResource("2_km51p"), ExtResource("1_ucilr"), ExtResource("2_km51p")])
CursorScene = ExtResource("2_ilg5p")
DialogueScene = ExtResource("5_2kn52")
TimerScene = ExtResource("6_187t4")

[node name="BackgroundColor" type="ColorRect" parent="."]
offset_right = 1920.0
offset_bottom = 1080.0
mouse_filter = 1
color = Color(0.313726, 0.141176, 0.184314, 1)

[node name="MonsterUiSuplikLeftOpen" type="Sprite2D" parent="BackgroundColor"]
position = Vector2(360, 524)
scale = Vector2(0.3, 0.3)
texture = ExtResource("9_itt2x")

[node name="PlaceableAreaLeft" type="Area2D" parent="BackgroundColor"]
position = Vector2(353, 574)
collision_layer = 32
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="BackgroundColor/PlaceableAreaLeft"]
shape = SubResource("RectangleShape2D_m2hby")

[node name="MonsterUiSuplikRightOpen" type="Sprite2D" parent="BackgroundColor"]
position = Vector2(1589, 524)
scale = Vector2(0.3, 0.3)
texture = ExtResource("10_e1134")

[node name="PlaceableAreaRight" type="Area2D" parent="BackgroundColor"]
position = Vector2(1598, 571)
collision_layer = 32
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="BackgroundColor/PlaceableAreaRight"]
shape = SubResource("RectangleShape2D_m2hby")

[node name="MonsterHolder" type="Node2D" parent="."]

[node name="ToolTable" type="Node2D" parent="."]

[node name="MonsterUiStul" type="Sprite2D" parent="ToolTable"]
position = Vector2(950, 1041)
scale = Vector2(0.37, 0.37)
texture = ExtResource("9_hfpap")

[node name="Lipstick" type="Node2D" parent="ToolTable"]
position = Vector2(1380, 958)
script = ExtResource("8_y1li6")

[node name="Polygon2D" type="Polygon2D" parent="ToolTable/Lipstick"]
polygon = PackedVector2Array(-29, 116, -32, -61, 3, -71, 5, 121)

[node name="Shadow" type="Node2D" parent="ToolTable"]
position = Vector2(1188, 969)
script = ExtResource("8_y1li6")

[node name="Polygon2D" type="Polygon2D" parent="ToolTable/Shadow"]
polygon = PackedVector2Array(-8, 98, -15, 17, -22, -31, -20, -46, -10, -57, 1, -58, 11, -53, 16, -40, 15, -31, 9, 8, 23, 4)

[node name="Line" type="Node2D" parent="ToolTable"]
position = Vector2(1047, 940)
script = ExtResource("8_y1li6")

[node name="Polygon2D" type="Polygon2D" parent="ToolTable/Line"]
polygon = PackedVector2Array(-29, 122, -29, -14, 0, -12, 34, 115, 34, 130)

[node name="Eraser" type="Node2D" parent="ToolTable"]
position = Vector2(868, 969)
script = ExtResource("8_y1li6")

[node name="Polygon2D" type="Polygon2D" parent="ToolTable/Eraser"]
polygon = PackedVector2Array(-36, 72, -31, -117, 33, -116, 32, 70)

[node name="Cutter" type="Node2D" parent="ToolTable"]
position = Vector2(555, 916)
script = ExtResource("8_y1li6")

[node name="Polygon2D" type="Polygon2D" parent="ToolTable/Cutter"]
polygon = PackedVector2Array(-190, 153, -195, 85, -11, 73, 51, 104, 42, 105, 50, 110, 35, 114, 50, 118, 38, 124, 51, 130, 35, 136, 57, 139)

[node name="KeyHintUp" parent="ToolTable" node_paths=PackedStringArray("gamepadHint", "keyboardHint") instance=ExtResource("13_74gj5")]
position = Vector2(584, 958)
gamepadHint = NodePath("")
keyboardHint = NodePath("")

[node name="Gamepad2" type="TextureRect" parent="ToolTable/KeyHintUp"]
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("14_fetvg")
metadata/_edit_use_anchors_ = true

[node name="Keyboard2" type="TextureRect" parent="ToolTable/KeyHintUp"]
visible = false
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("15_wc8ea")

[node name="KeyHintDown" parent="ToolTable" node_paths=PackedStringArray("gamepadHint", "keyboardHint") instance=ExtResource("13_74gj5")]
position = Vector2(930, 852)
gamepadHint = NodePath("")
keyboardHint = NodePath("")

[node name="Gamepad2" type="TextureRect" parent="ToolTable/KeyHintDown"]
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("16_qrw4d")
metadata/_edit_use_anchors_ = true

[node name="Keyboard2" type="TextureRect" parent="ToolTable/KeyHintDown"]
visible = false
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("17_x2v81")
metadata/_edit_use_anchors_ = true

[node name="KeyHintLeft" parent="ToolTable" node_paths=PackedStringArray("gamepadHint", "keyboardHint") instance=ExtResource("13_74gj5")]
position = Vector2(1047, 852)
gamepadHint = NodePath("")
keyboardHint = NodePath("")

[node name="Gamepad2" type="TextureRect" parent="ToolTable/KeyHintLeft"]
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("18_pemxu")
metadata/_edit_use_anchors_ = true

[node name="Keyboard2" type="TextureRect" parent="ToolTable/KeyHintLeft"]
visible = false
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("19_lbtjf")
metadata/_edit_use_anchors_ = true

[node name="KeyHintRight" parent="ToolTable" node_paths=PackedStringArray("gamepadHint", "keyboardHint") instance=ExtResource("13_74gj5")]
position = Vector2(1265, 868)
gamepadHint = NodePath("")
keyboardHint = NodePath("")

[node name="Gamepad2" type="TextureRect" parent="ToolTable/KeyHintRight"]
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("20_qqbr3")
metadata/_edit_use_anchors_ = true

[node name="Keyboard2" type="TextureRect" parent="ToolTable/KeyHintRight"]
visible = false
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("21_1sj48")
metadata/_edit_use_anchors_ = true

[node name="KeyHintSwapColorLeft" parent="ToolTable" node_paths=PackedStringArray("gamepadHint", "keyboardHint") instance=ExtResource("13_74gj5")]
position = Vector2(1211, 852)
gamepadHint = NodePath("")
keyboardHint = NodePath("")

[node name="Gamepad2" type="TextureRect" parent="ToolTable/KeyHintSwapColorLeft"]
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("22_b6ty8")
metadata/_edit_use_anchors_ = true

[node name="Keyboard2" type="TextureRect" parent="ToolTable/KeyHintSwapColorLeft"]
visible = false
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("23_jisso")
metadata/_edit_use_anchors_ = true

[node name="KeyHintSwapColorRight" parent="ToolTable" node_paths=PackedStringArray("gamepadHint", "keyboardHint") instance=ExtResource("13_74gj5")]
position = Vector2(1329, 831)
gamepadHint = NodePath("")
keyboardHint = NodePath("")

[node name="Gamepad2" type="TextureRect" parent="ToolTable/KeyHintSwapColorRight"]
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("24_5ftec")
metadata/_edit_use_anchors_ = true

[node name="Keyboard2" type="TextureRect" parent="ToolTable/KeyHintSwapColorRight"]
visible = false
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("25_nyxyk")
metadata/_edit_use_anchors_ = true

[node name="LightsOut" type="CanvasModulate" parent="."]
visible = false
script = ExtResource("5_vfuqq")

[node name="AnimationPlayer" type="AnimationPlayer" parent="LightsOut"]
root_node = NodePath("../..")
libraries = {
"": SubResource("AnimationLibrary_a4k05")
}

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="LightsOut"]

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="LightsOut"]
energy = 0.91
blend_mode = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_6lltp")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
unique_name_in_owner = true

[node name="CountDown" type="MarginContainer" parent="CanvasLayer"]
offset_left = 843.0
offset_top = 339.0
offset_right = 983.0
offset_bottom = 675.0

[node name="Label" type="Label" parent="CanvasLayer/CountDown"]
visible = false
layout_mode = 2
theme_override_font_sizes/font_size = 345

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer/CountDown"]
libraries = {
"": SubResource("AnimationLibrary_3pkgn")
}

[node name="Curtain" type="ColorRect" parent="CanvasLayer"]
modulate = Color(1, 1, 1, 0)
offset_right = 1926.0
offset_bottom = 1075.0
color = Color(0, 0, 0, 1)

[node name="Label" type="Label" parent="CanvasLayer/Curtain"]
layout_mode = 0
offset_left = 742.0
offset_top = 293.0
offset_right = 1138.0
offset_bottom = 443.0
theme_override_font_sizes/font_size = 91
text = "Dawn of"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Label2" type="Label" parent="CanvasLayer/Curtain"]
layout_mode = 0
offset_left = 480.0
offset_top = 387.0
offset_right = 1425.0
offset_bottom = 621.0
theme_override_font_sizes/font_size = 141
text = "The First Date"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Label3" type="Label" parent="CanvasLayer/Curtain"]
layout_mode = 0
offset_left = 304.0
offset_top = 524.0
offset_right = 1631.0
offset_bottom = 758.0
theme_override_font_sizes/font_size = 81
text = "- 24 Hours Remain -"
horizontal_alignment = 1
vertical_alignment = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer/Curtain"]
libraries = {
"": SubResource("AnimationLibrary_bg65y")
}
